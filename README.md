# docker-complate

# One Image, Multiple Containers
- 이미지는 모든 설정 명령과 모든 코드가 포함된 공유 가능 패키지입니다. 즉, 쉽게 설명하자면, react로 만든 프로젝트가있다면 이걸 빌드하여 이미지로 만든 후, a,b,c,d라는 다른 컴퓨터에 똑같은 react 프로젝트를 실행시킬수있습니다.
- 컨테이너는 이미지의 실행 인스턴스라고 생각하면 쉽습니다. 그래서 우리는 이미지를 기반으로 하는 컨테이너를 실행하게 되는 것 입니다.

## 위의 내용이 핵심 이야기이며, 도커의 모든 것 입니다.

# Volumes
- 도커에는 볼륨이라는 내장 기능이있습니다.
- 볼륨은 데이터를 유지하도록 도우며, 지적한 문제를 해결하는데 도움이 됩니다.

## Volumes이란?
- 볼륨은 호스트 머신의 폴더입니다.
- 컨테이너나 이미지에 있는게 아니라, 호스트 컴퓨터에 장착된 하듣 드라이브에 존재하며, 컨테이너로 매핑되는것을 의미합니다.
- 즉 볼륨은 도커가 인식하는 호스트 머신인 본인의 컴퓨터에 있는 폴더로써 도커 컨테이너 내부의 폴더에 매핑됩니다.
- 즉, 내부에 이미지든 무엇이든 반영을 시킨다는것이며 직접적으로 눈으로 폴수있는 파일이 생깁니다 < 데이터 유지가 가능함.

## Volumes 사용법.
사용하는 방법은 2가지가 있습니다.

1. Dockerfile에 작성한다.
2. 터미널에 명령어를 입력할때 -v를 이용하여 사용한다.

volume을 나타내는 '-v' 옵션으로 컨테이너에 볼륨을 추가할수있습니다. 기존 Dockerfile에서 했던것은, 인명의 볼륨이였으며, 지금의 방식은 명명된 볼륨입니다.

`docker run -d -p 4444:80 --rm --name feedback-app -v /app/feedback feedback-node:latest`

## Docker Volumes 사용하지않을때 지우기.
`docker volume ls`

`docker volume rm ${volumeName}`

# bind mount

# ENV
도커에 있어서 $뒤에 있는 것이 환경변수 이름임을 알려야 합니다.
```typescript
ENV PORT 80

EXPOSE $PORT
```